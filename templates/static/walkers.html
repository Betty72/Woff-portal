{% extends "base.html" %}

{% block title %}Registered Dog Walkers{% endblock %}

{% block content %}
<h2>All Registered Dog Walkers</h2>

{% if walkers %}
    <table border="1" cellpadding="8">
        <tr>
            <th>Name</th>
            <th>City</th>
            <th>Experience</th>
            <th>Availability</th>
            <th>Dog Size</th>
            <th>Photo</th>
            {% if session.get('admin') %}
                <th>Action</th>
            {% endif %}
        </tr>
        {% for walker in walkers %}
        <tr>
            <td>{{ walker.name }}</td>
            <td>{{ walker.city }}</td>
            <td>{{ walker.experience }} years</td>
            <td>{{ walker.availability }}</td>
            <td>{{ walker.dog_size }}</td>
            <td>
                {% if walker.photo %}
                    <img src="{{ url_for('static', filename='uploads/' + walker.photo) }}" alt="Profile" width="80">
                {% else %}
                    No photo
                {% endif %}
            </td>
            {% if session.get('admin') %}
            <td>
                <form action="{{ url_for('remove_walker') }}" method="POST">
                    <input type="hidden" name="walker_id" value="{{ walker.id }}">
                    <button type="submit">Remove</button>
                </form>
            </td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
{% else %}
    <p>No dog walkers registered yet. üêæ</p>
{% endif %}
{% endblock %}
